const eventlso = [
  {

    title: "Андрей",
    category: "Уже иду",
    desc: "Командир",
    full: "Васильев Андрей Владимирович",
    image: "/static/images/img/participants_lso_img/foto-user-1.png",
    logo: "/static/images/img/participants_lso_img/commander.svg",
    peoples: 12,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: true,
  },
  {
    title: "Мария",
    category: "Уже иду",
    desc: "Комиссар",
    full: "Антонова Мария Владимировна",
    image: "/static/images/img/participants_lso_img/foto-user-2.png",
    logo: "/static/images/img/participants_lso_img/commissioner.svg",
    peoples: 19,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: true,
  },
  {
    title: "Екатерина",
    category: "Уже иду",
    desc: "Мастер",
    full: "Антонова Екатерина Владимировна",
    image: "/static/images/img/participants_lso_img/foto-user-3.png",
    logo: "/static/images/img/participants_lso_img/master.svg",
    peoples: 5,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: true,
  },
  {
    title: "Иван",
    category: "Уже иду",
    desc: "Медик",
    full: "Гончаров Иван Олегович",
    image: "/static/images/img/participants_lso_img/artem.jpg",
    logo: "/static/images/img/participants_lso_img/medic.svg",
    peoples: 8,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: true,
  },
  {
    title: "Елена",
    category: "Уже иду",
    desc: "Флагоносец",
    full: "Ермолова Елена Андреевна",
    image: "/static/images/img/participants_lso_img/foto-user-5.png",
    peoples: 7,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Егор",
    category: "Уже иду",
    desc: "Боец",
    full: "Шашков Егор Андреевич",
    image: "/static/images/img/participants_lso_img/foto-user-6.png",
    peoples: 14,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Алексей",
    category: "Уже иду",
    desc: "Боец",
    full: "Федоров Алексей Викторович",
    image: "/static/images/img/participants_lso_img/foto-user-7.png",
    peoples: 12,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Максим",
    category: "Уже иду",
    desc: "Боец",
    full: "Хромых Максим Олегович",
    image: "/static/images/img/participants_lso_img/foto-user-8.png",
    peoples: 22,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Евгения",
    category:"Уже иду",
    desc: "Боец",
    full: "Фролова Евгения Васильевна",
    image: "/static/images/img/participants_lso_img/foto-user-9.png",
    peoples: 12,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Елена",
    category: "Уже иду",
    desc: "Боец",
    full: "Кошкина Елена Максимовна",
    image: "/static/images/img/participants_lso_img/foto-user-10.png",
    peoples: 2,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Роланда",
    category: "Уже иду",
    desc: "Боец",
    full: "Ким Ролада Мехайловна",
    image: "/static/images/img/participants_lso_img/foto-user-11.png",
    peoples: 5,
    createdAt: "13.07.2000",
    detachment: "ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Екатерина",
    category: "Уже иду",
    desc: "Боец",
    full: "Шило Екатерина Андреевна",
    image: "/static/images/img/participants_lso_img/foto-user-12.png",
    peoples: 14,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Вероника",
    category: "Уже иду",
    desc: "Боец",
    full: "Таран Вероника Владиславовна",
    image: "/static/images/img/participants_lso_img/foto-user-13.png",
    peoples: 22,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Ирина",
    category:"Уже иду",
    desc: "Боец",
    full: "Линейные студенческие отряды",
    image: "/static/images/img/participants_lso_img/foto-user-14.png",
    peoples: 10,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Ярослава",
    category: "Уже иду",
    desc: "Боец",
    full: "Китова Ярослава Олеговна",
    image: "/static/images/img/participants_lso_img/foto-user-15.png",
    peoples: 4,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,

  },
  {
    title: "Анна",
    category: "Уже иду",
    desc: "Боец",
    full: "Лопатина Анна Дмитривна",
    image: "/static/images/img/participants_lso_img/foto-user-16.png",
    peoples: 6,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,

  },
  {
    title: "Василиса",
    category: "Уже иду",
    desc: "Боец",
    full: "Принц Василиса Эдуардовна",
    image: "/static/images/img/participants_lso_img/foto-user-17.png",
    peoples: 25,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Анна",
    category: "Уже иду",
    desc: "Боец",
    full: "Митерева Анна Анатольевна",
    image: "/static/images/img/participants_lso_img/foto-user-18.png",
    peoples: 11,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,
  },
  {
    title: "Анна",
    category: "Уже иду",
    desc: "Боец",
    full: "Дмитренко Анна Егоровна",
    image: "/static/images/img/participants_lso_img/foto-user-19.png",
    peoples: 17,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,
  },

  {
    title: "Дмитрий",
    category: "Ожидает одобрения",
    desc: "Боец",
    full: "Петров Дмитрий Артемович",
    image: "/static/images/img/participants_lso_img/foto-user-22.png",
    peoples: 12,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,

  },
  {
    title: "Анна",
    category: "Ожидает одобрения",
    desc: "Боец",
    full: "Ганькина Анна Георгиевна",
    image: "/static/images/img/participants_lso_img/foto-user-21.png",
    peoples: 10,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,

  },
  {
    title: "Павел",
    category: "Ожидает одобрения",
    desc: "Боец",
    full: "Шнур Павел Васильевич",
    image: "/static/images/img/participants_lso_img/foto-user-22.png",
    peoples: 12,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,

  },
  {
    title: "Денис",
    category: "Ожидает одобрения",
    desc: "Боец",
    full: "Игнатов Денис Анатольевич",
    image: "/static/images/img/participants_lso_img/foto-user-22.png",
    peoples: 29,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,

  },
  {
    title: "Дмитрий",
    category: "Ожидает одобрения",
    desc: "Боец",
    full: "Петров Дмитрий Артемович",
    image: "/static/images/img/participants_lso_img/foto-user-22.png",
    peoples: 25,
    createdAt: "13.07.2000",
    detachment:"ССО «Инвар»",
    comandir: false,
  },
];

const filtered = [];


// поиск
const productsContainer = document.querySelector("#eventlso-wrapper");
const categoryList = document.querySelector(".eventlso-tabs");

const productsContainerHorizontal = document.querySelector("#eventlso-horizontallso");
// уже в отряде

function displayProductsEventlso(products) {
  if (products.length > 0) {
    const product_details = products
      .map(
        (product) => `
  <div class="eventlso-wrapper__item">
  <a class="eventlso__avatar-hover-a" href="#" onclick="return false;"><span>
  Перейти в профиль</span>
 
    <div class="eventlso-round-img">
      <img src="${product.image}" alt="${product.title}" />
    </div>
    <div class="container-eventlso">
      <p class="eventlso-wrapper__item-category">${product.title}</p>
      <p class="eventlso-wrapper__item-title">${product.desc}</p>
    </div>
   
    </a>
  </div>`
      )
      .join("");

    productsContainer.innerHTML = product_details;
  } else {
    productsContainer.innerHTML = "<h4>Участник не найден</h4>";
  }
}

// горизонтальное

function displayHorizontalEventlso(products) {
  if (products.length > 0) {
    const product_horizontal = products
      .map(
        (product) => `
  <div class="eventlso-horizontallso-item">
    <div class="eventlso-horizontallso-item__wrapper">
          <div class="eventlso-horizontallso-img">
            <img 
            src="${product.image}" alt="${product.title}" />
            <img class="eventlso-horizontallso-item__list-img-status" src="${product.logo}" alt="${product.title}">
          </div>
        <div class="containerHorizontalEventlso">
          <p class="eventlso-horizontallso-item__list-full"> ${product.full}</p>
          <div class="eventlso-horizontallso-item__list-date"><span style="border-left:2px solid #B6B6B6; padding-right: 8px;"></span>
          <p>${product.createdAt}</p>
          </div>
        </div>
    </div>
  </div>`
      )
      .join("");

    productsContainerHorizontal.innerHTML = product_horizontal;
  }

  else {
    productsContainerHorizontal.innerHTML = "<h4>Участник не найден</h4>";
  }

}
function allEventlso(squads) {
  displayProductsEventlso(squads);
  displayHorizontalEventlso(squads);
}

// 0000000000000000000000000000000000000000

function setCategories() {
  const allCategories = eventlso.map((product) => product.category);
  //console.log(allCategories);
  const catagories = [
    ...allCategories.filter((product, index) => {
      return allCategories.indexOf(product) === index;
    }),
  ];
  //console.log(catagories);
  categoryList.innerHTML = catagories
    .map((category) => `<li class="eventlso-tabs__item">${category}</li>`)
    .join("");

  categoryList.addEventListener("click", (e) => {
    let selectedCatagory = e.target.textContent;
    if (selectedCatagory === "Уже идут") {
      allEventlso(eventlso)
    } else {
      allEventlso(
        eventlso.filter((product) => product.category == selectedCatagory)
      );
    }

  });

}



// 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000



function changeLayout(val) {
  if (val == 1) {
    document.getElementById("eventlso-wrapper").style.display = "grid";
    document.getElementById("eventlso-horizontallso").style.display = "none";
    document.querySelector(".eventlso-btn-horisontallso").classList.remove('active-change__menu-eventlso');
    document.querySelector(".eventlso-btn-block").classList.remove('active-change-eventlso');
  } else if (val == 2) {
    document.getElementById("eventlso-wrapper").style.display = "none";
    document.getElementById("eventlso-horizontallso").style.display = "grid";
    document.querySelector(".eventlso-btn-horisontallso").classList.add('active-change__menu-eventlso');
    document.querySelector(".eventlso-btn-block").classList.add('active-change-eventlso');
  }
}

const sortByDropdown = document.querySelector(".eventlso-alph");
const sortOrderDropdown = document.querySelector(".eventlso-order");
// const EducationList = document.querySelector(".education-check");


sortByDropdown.addEventListener("change", () => {
  const sortByValue = sortByDropdown.value; // price or ram value
  const sortOrderValue = sortOrderDropdown.value; // asc or desc value

  const sorted = _.orderBy(eventlso, [sortByValue], sortOrderValue);

  displayProductsEventlso(sorted);
});

sortOrderDropdown.addEventListener("change", () => {
  const event = new Event("change");
  const sortByValue = sortByDropdown.value;

  if (sortByValue) {
    sortByDropdown.dispatchEventlso(event);
  }
});


const txtSearch = document.querySelector("#search");
txtSearch.addEventListener("keyup", (e) => {
  const value = e.target.value.toLowerCase().trim();
  if (value) {
    displayProductsEventlso(eventlso.filter((product) => product.title.toLowerCase().indexOf(value) !== -1));
  } else {
    displayProductsEventlso(eventlso);
  }
});

displayProductsEventlso(eventlso);
setCategories();

sortByDropdown.addEventListener("change", () => {
  const sortByValue = sortByDropdown.value; // price or ram value
  const sortOrderValue = sortOrderDropdown.value; // asc or desc value
  // const sortByEduc = EducationList.value

  const sorted = _.orderBy(eventlso, [sortByValue], sortOrderValue);

  allEventlso(sorted);
});

sortOrderDropdown.addEventListener("change", () => {
  const event = new Event("change");
  const sortByValue = sortByDropdown.value;
  // const sortByEduc= sortByDropdown.value;

  if (sortByValue) {
    sortByDropdown.dispatchEvent(event);
  }
});


const txtSearchlso = document.querySelector("#search");
txtSearch.addEventListener("keyup", (e) => {
  const value = e.target.value.toLowerCase().trim();
  if (value) {
    allEventlso(
      eventlso.filter(
        (product) => product.title.toLowerCase().indexOf(value) !== -1
      )
    );
  } else {
    allEventlso(eventlso);
  }
});

allEventlso(eventlso);
setCategories();
setEducations();

// 000000000000000000000000000000000000
